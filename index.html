<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프리미엄 컨퍼런스 채팅 시스템</title>
    <meta name="description" content="세계 최고의 다국어 지원 실시간 컨퍼런스 채팅 시스템">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.6/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/auth-styles.css">
    <link rel="stylesheet" href="css/chat-styles.css">
    <link rel="stylesheet" href="css/sidebar-styles.css">
    <link rel="stylesheet" href="css/utils.css">
</head>
<body>
    <div id="app">
        <!-- 로그인/등록 영역 -->
        <div id="auth-container">
            <div class="auth-box">
                <div class="auth-header">
                    <h2>컨퍼런스 채팅 시스템</h2>
                    <p>계속하려면 정보를 입력해주세요</p>
                </div>

                <form id="user-info-form">
                    <div class="form-group">
                        <label for="name">이름</label>
                        <input type="text" id="name" name="name" placeholder="이름을 입력하세요" required>
                    </div>

                    <div class="form-group">
                        <label for="email">이메일</label>
                        <input type="email" id="email" name="email" placeholder="이메일을 입력하세요" required>
                    </div>

                    <div class="form-group">
                        <label for="role">역할</label>
                        <select id="role" name="role" required>
                            <option value="" disabled selected>역할을 선택하세요</option>
                            <option value="attendee">참가자</option>
                            <option value="exhibitor">전시자</option>
                            <option value="presenter">발표자</option>
                            <option value="staff">스태프</option>
                            <option value="admin">관리자</option>
                            <option value="interpreter">통역사</option>
                        </select>
                    </div>

                    <div id="password-container" class="form-group hidden">
                        <label for="password">비밀번호</label>
                        <input type="password" id="password" name="password" placeholder="비밀번호를 입력하세요">
                    </div>

                    <div class="form-group">
                        <label for="language">선호 언어</label>
                        <select id="language" name="language" required>
                            <option value="en">English</option>
                            <option value="ko">한국어 (Korean)</option>
                            <option value="hi">हिन्दी (Hindi)</option>
                            <option value="te">తెలుగు (Telugu)</option>
                            <option value="zh">中文 (Chinese)</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary">입장하기</button>
                </form>
            </div>
        </div>

        <!-- 채팅 인터페이스 -->
        <div id="chat-interface" class="hidden">
            <!-- 헤더 영역 -->
            <header class="header">
                <div class="header-content">
                    <h1 class="title">프리미엄 컨퍼런스 채팅</h1>
                    
                    <div class="header-actions">
                        <select id="language-selector">
                            <option value="en">English</option>
                            <option value="ko">한국어 (Korean)</option>
                            <option value="hi">हिन्दी (Hindi)</option>
                            <option value="te">తెలుగు (Telugu)</option>
                            <option value="zh">中文 (Chinese)</option>
                        </select>
                        
                        <div id="user-profile">
                            <div class="user-avatar"></div>
                            <span class="user-name">사용자</span>
                        </div>
                        <button id="logout-btn" class="logout-btn">로그아웃</button>
                    </div>
                </div>
            </header>

            <!-- 메인 콘텐츠 영역 -->
            <main class="main-content">
                <!-- 정보 패널 (좌측) -->
                <aside id="info-panel" class="sidebar">
                    <div class="sidebar-content">
                        <div class="sidebar-header">
                            <h2>정보 패널</h2>
                            <div class="tabs">
                                <button class="tab-btn active" data-tab="exhibitors">전시자</button>
                                <button class="tab-btn" data-tab="schedule">일정</button>
                            </div>
                        </div>

                        <!-- 전시자 정보 탭 -->
                        <div id="exhibitors-tab" class="tab-content">
                            <div class="search-bar">
                                <input type="text" class="exhibitor-search" placeholder="전시자 검색...">
                                <i class="fas fa-search"></i>
                            </div>
                            
                            <div class="exhibitors-list">
                                <!-- 전시자 목록이 여기에 동적으로 로드됩니다 -->
                                <div class="placeholder-item"></div>
                                <div class="placeholder-item"></div>
                                <div class="placeholder-item"></div>
                            </div>
                        </div>

                        <!-- 일정 정보 탭 -->
                        <div id="schedule-tab" class="tab-content hidden">
                            <div class="search-bar">
                                <input type="text" class="schedule-search" placeholder="일정 검색...">
                                <i class="fas fa-search"></i>
                            </div>
                            
                            <div class="schedule-list">
                                <!-- 일정 목록이 여기에 동적으로 로드됩니다 -->
                                <div class="placeholder-item"></div>
                                <div class="placeholder-item"></div>
                                <div class="placeholder-item"></div>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- 채팅 영역 (중앙) -->
                <section id="chat-area">
                    <!-- 채팅 메시지 표시 영역 -->
                    <div id="announcement-bar" class="announcement-bar hidden"></div>
                    <div id="messages-container">
                        <!-- 메시지들이 여기에 동적으로 로드됩니다 -->
                        <div class="system-message">채팅을 시작합니다</div>
                    </div>

                    <!-- 메시지 입력 영역 -->
                    <div id="chat-input-area">
                        <div id="announcement-form" class="hidden">
                            <textarea id="announcement-input" placeholder="공지사항을 입력하세요..." rows="1"></textarea>
                            <button id="send-announcement-btn" type="button">공지사항 전송</button>
                        </div>
                        <form id="message-form">
                            <div class="message-input-wrapper">
                                <textarea id="message-input" placeholder="메시지를 입력하세요..." rows="1"></textarea>
                                <div class="message-input-actions">
                                    <button type="button" id="emoji-picker-btn">
                                        <i class="far fa-smile"></i>
                                    </button>
                                    <button type="button" id="attachment-btn">
                                        <i class="fas fa-paperclip"></i>
                                    </button>
                                </div>
                            </div>
                            <button type="submit" class="send-button">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                    </div>
                </section>

                <!-- 참가자 목록 패널 (우측) -->
                <aside id="participants-panel" class="sidebar">
                    <div class="sidebar-content">
                        <div class="sidebar-header">
                            <h2>참가자</h2>
                        </div>
                        
                        <div class="search-bar">
                            <input type="text" class="participant-search" placeholder="참가자 검색...">
                            <i class="fas fa-search"></i>
                        </div>
                        
                        <!-- 참가자 분류 탭 -->
                        <div class="participant-filters">
                            <button class="participant-filter active" data-filter="all">전체</button>
                            <button class="participant-filter" data-filter="presenter">발표자</button>
                            <button class="participant-filter" data-filter="exhibitor">전시자</button>
                            <button class="participant-filter" data-filter="attendee">참가자</button>
                            <button class="participant-filter" data-filter="staff">스태프</button>
                        </div>
                        
                        <div class="participants-list">
                            <!-- 참가자 목록이 여기에 동적으로 로드됩니다 -->
                            <div class="placeholder-item"></div>
                            <div class="placeholder-item"></div>
                            <div class="placeholder-item"></div>
                        </div>
                    </div>
                </aside>
            </main>
        </div>

        <!-- 모바일 내비게이션 -->
        <nav id="mobile-nav">
            <button id="mobile-chat-btn" class="active">
                <i class="fas fa-comment"></i>
                <span>채팅</span>
            </button>
            <button id="mobile-info-btn">
                <i class="fas fa-info-circle"></i>
                <span>정보</span>
            </button>
            <button id="mobile-participants-btn">
                <i class="fas fa-users"></i>
                <span>참가자</span>
            </button>
            <button id="mobile-settings-btn">
                <i class="fas fa-cog"></i>
                <span>설정</span>
            </button>
        </nav>

        <!-- 토스트 메시지 컨테이너 -->
        <div id="toast-container"></div>

        <!-- 이모지 선택기 -->
        <div id="emoji-picker" class="hidden">
            <!-- 이모지 그리드가 여기에 로드됩니다 -->
        </div>

        <!-- 설정 모달 -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>설정</h3>
                    <button id="close-settings">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="settings-form">
                    <div class="form-group">
                        <label for="settings-language">선호 언어</label>
                        <select id="settings-language" name="language">
                            <option value="en">English</option>
                            <option value="ko">한국어 (Korean)</option>
                            <option value="hi">हिन्दी (Hindi)</option>
                            <option value="te">తెలుగు (Telugu)</option>
                            <option value="zh">中文 (Chinese)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="settings-theme">테마</label>
                        <select id="settings-theme" name="theme">
                            <option value="light">라이트 모드</option>
                            <option value="dark">다크 모드</option>
                            <option value="system">시스템 설정 사용</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>알림 설정</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="settings-notification-all" name="notification-all">
                                <label for="settings-notification-all">모든 메시지 알림</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="settings-notification-mention" name="notification-mention">
                                <label for="settings-notification-mention">멘션시에만 알림</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="settings-notification-sound" name="notification-sound">
                                <label for="settings-notification-sound">소리 알림</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="settings-fontsize">글꼴 크기</label>
                        <div class="range-slider">
                            <span>작게</span>
                            <input type="range" id="settings-fontsize" name="fontsize" min="1" max="5" value="3">
                            <span>크게</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">저장</button>
                </form>
            </div>
        </div>

        <!-- 로딩 스피너 -->
        <div id="loading-spinner" class="hidden">
            <div class="spinner-content">
                <div class="spinner"></div>
                <span>로딩 중...</span>
            </div>
        </div>

        <!-- 선호 언어 선택 모달 -->
        <div id="language-modal" class="modal">
          <div class="modal-content">
            <h2>What is your preferred language?</h2>
            <select id="modal-language-selector">
              <option value="en">English</option>
              <option value="ko">한국어 (Korean)</option>
              <option value="hi">हिन्दी (Hindi)</option>
              <option value="te">తెలుగు (Telugu)</option>
              <option value="zh">中文 (Chinese)</option>
            </select>
            <button id="confirm-language-btn">Confirm</button>
          </div>
        </div>
    </div>

    <!-- Supabase 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- JavaScript 파일 -->
    <script src="js/config/config.js"></script>
    
    <!-- 데이터 파일 -->
    <script src="js/data/exhibitors.js"></script>
    <script src="js/data/presenters.js"></script>
    
    <!-- 디버그 유틸리티 -->
    <script src="js/reset-login.js"></script>
    
    <!-- 유틸리티 -->
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/logger.js"></script>
    <script src="js/utils/toast.js"></script>
    
    <!-- 서비스 -->
    <script src="js/services/supabase-client.js"></script>
    <script src="js/services/translation-service.js"></script>
    <script src="js/services/data-manager.js"></script>
    <script src="js/services/user-service.js"></script>
    <script src="js/services/chat-manager.js"></script>
    <script src="js/services/chat-manager-admin.js"></script>
    
    <!-- 컴포넌트 -->
    <script src="js/components/auth.js"></script>
    <script src="js/components/chat.js"></script>
    <script src="js/components/message.js"></script>
    <script src="js/components/sidebar.js"></script>
    <script src="js/components/settings.js"></script>
    
    <!-- 메인 -->
    <script src="js/main.js"></script>
</body>
</html>