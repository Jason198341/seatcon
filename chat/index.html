<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global SeatCon 2025 - Ïª®ÌçºÎü∞Ïä§ Ï±ÑÌåÖ</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- ÌôòÍ≤Ω ÏÑ§Ï†ï Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="../js/env-config.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
        <div id="login-container" class="container">
            <div class="login-form">
                <h1 class="title" data-i18n="app.title">Global SeatCon 2025</h1>
                <h2 class="subtitle" data-i18n="login.subtitle">Ïª®ÌçºÎü∞Ïä§ Ï±ÑÌåÖ</h2>
                
                <div class="form-group">
                    <label for="username" data-i18n="login.username">ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ</label>
                    <input type="text" id="username" placeholder="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" data-i18n-placeholder="login.username.placeholder">
                </div>
                
                <div class="form-group">
                    <label for="language-select" data-i18n="login.language">ÏÑ†Ìò∏ Ïñ∏Ïñ¥</label>
                    <select id="language-select">
                        <option value="ko" data-i18n="languages.korean">ÌïúÍµ≠Ïñ¥</option>
                        <option value="en" data-i18n="languages.english">ÏòÅÏñ¥</option>
                        <option value="ja" data-i18n="languages.japanese">ÏùºÎ≥∏Ïñ¥</option>
                        <option value="zh" data-i18n="languages.chinese">Ï§ëÍµ≠Ïñ¥</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="room-select" data-i18n="login.chatroom">Ï±ÑÌåÖÎ∞© ÏÑ†ÌÉù</label>
                    <select id="room-select">
                        <!-- Ï±ÑÌåÖÎ∞© Î™©Î°ùÏùÄ JavaScriptÎ°ú ÎèôÏ†Å Î°úÎìú -->
                        <option value="" disabled selected data-i18n="login.chatroom.loading">Î°úÎî© Ï§ë...</option>
                    </select>
                </div>
                
                <div id="private-room-code" class="form-group hidden">
                    <label for="access-code" data-i18n="login.accessCode">Ï†ëÍ∑º ÏΩîÎìú</label>
                    <input type="password" id="access-code" placeholder="ÎπÑÍ≥µÍ∞ú Ï±ÑÌåÖÎ∞© ÏΩîÎìú ÏûÖÎ†•" data-i18n-placeholder="login.accessCode.placeholder">
                </div>
                
                <div class="error-message" id="login-error"></div>
                
                <button id="login-button" class="primary-button" data-i18n="login.button">ÏûÖÏû•ÌïòÍ∏∞</button>
                
                <div class="connection-status">
                    <span id="connection-indicator" class="online"></span>
                    <span id="connection-text" data-i18n="connection.online">Ïò®ÎùºÏù∏</span>
                </div>
            </div>
        </div>
        
        <!-- Ï±ÑÌåÖ ÌôîÎ©¥ -->
        <div id="chat-container" class="container hidden">
            <header class="chat-header">
                <h2 id="room-name">Ï±ÑÌåÖÎ∞© Ïù¥Î¶Ñ</h2>
                <div class="header-actions">
                    <div class="language-display">
                        <span data-i18n="chat.language">Ïñ∏Ïñ¥</span>: <span id="current-language">ÌïúÍµ≠Ïñ¥</span>
                        <button id="change-language" class="icon-button" title="Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω">
                            üåê
                        </button>
                    </div>
                    <button id="user-list-toggle" class="icon-button" title="ÏÇ¨Ïö©Ïûê Î™©Î°ù">
                        üë•
                    </button>
                    <button id="exit-chat" class="icon-button" title="ÎÇòÍ∞ÄÍ∏∞">
                        üö™
                    </button>
                </div>
            </header>
            
            <div class="chat-content">
                <div class="message-container" id="message-container">
                    <!-- Î©îÏãúÏßÄÎäî JavaScriptÎ°ú ÎèôÏ†Å Î°úÎìú -->
                </div>
                
                <div class="user-list-panel" id="user-list-panel">
                    <h3 data-i18n="chat.users">ÏÇ¨Ïö©Ïûê Î™©Î°ù</h3>
                    <ul id="user-list">
                        <!-- ÏÇ¨Ïö©Ïûê Î™©Î°ùÏùÄ JavaScriptÎ°ú ÎèôÏ†Å Î°úÎìú -->
                    </ul>
                </div>
            </div>
            
            <div class="reply-preview" id="reply-preview">
                <div class="reply-content"></div>
                <button class="cancel-reply">‚úï</button>
            </div>
            
            <div class="message-input-container">
                <textarea 
                    id="message-input" 
                    placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                    data-i18n-placeholder="chat.messageInput.placeholder"
                ></textarea>
                <button id="send-button" class="send-button" title="Ï†ÑÏÜ°">
                    ‚û§
                </button>
            </div>
            
            <div class="connection-status chat-connection-status">
                <span id="chat-connection-indicator" class="online"></span>
                <span id="chat-connection-text" data-i18n="connection.online">Ïò®ÎùºÏù∏</span>
                <div id="sync-status" class="hidden">
                    <span class="sync-icon">üîÑ</span>
                    <span data-i18n="connection.syncing">ÎèôÍ∏∞Ìôî Ï§ë...</span>
                </div>
            </div>
        </div>
        
        <!-- Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω Î™®Îã¨ -->
        <div id="language-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 data-i18n="modal.changeLanguage.title">Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω</h3>
                    <button class="close-modal">‚úï</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modal-language-select" data-i18n="modal.changeLanguage.selectLanguage">ÏÑ†Ìò∏ Ïñ∏Ïñ¥ ÏÑ†ÌÉù</label>
                        <select id="modal-language-select">
                            <option value="ko" data-i18n="languages.korean">ÌïúÍµ≠Ïñ¥</option>
                            <option value="en" data-i18n="languages.english">ÏòÅÏñ¥</option>
                            <option value="ja" data-i18n="languages.japanese">ÏùºÎ≥∏Ïñ¥</option>
                            <option value="zh" data-i18n="languages.chinese">Ï§ëÍµ≠Ïñ¥</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="language-save" class="primary-button" data-i18n="modal.save">Ï†ÄÏû•</button>
                    <button class="secondary-button close-modal" data-i18n="modal.cancel">Ï∑®ÏÜå</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="../js/config.js"></script>
    <script src="../js/services/dbService.js"></script>
    <script src="../js/services/realtimeService.js"></script>
    <script src="../js/services/translationService.js"></script>
    <script src="../js/services/userService.js"></script>
    <script src="../js/services/chatService.js"></script>
    <script src="../js/services/offlineService.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>